{"componentChunkName":"component---src-templates-blog-post-js","path":"/writing/js-class-fields-proposal-at-stage-3/","result":{"data":{"site":{"siteMetadata":{"title":"Chandler Moisen","author":"Chandler Moisen"}},"markdownRemark":{"id":"ef43da51-8bc7-5ca9-8afe-62c67757b2d0","excerpt":"In case you haven’t heard the news, Daniel Ehrenberg and Jeff Morrison’s ESnext class features for JavaScript proposal was moved from stage-2 to stage-3. Yes…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e156d8a7721b2e4e845c5ab6e0dd663b/8608d/tc39_process.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAclyyQD/xAAYEAEBAAMAAAAAAAAAAAAAAAABEAARMf/aAAgBAQABBQI6hDF3P//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAERABBBUYH/2gAIAQEAAT8hBpABntEi5oV//9oADAMBAAIAAwAAABBzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAICAwEAAAAAAAAAAAAAAAERABAhMWFx/9oACAEBAAE/EBiJrm5jRfwqTo1FgMF2v//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tc39 process\"\n        title=\"tc39 process\"\n        src=\"/static/e156d8a7721b2e4e845c5ab6e0dd663b/1c72d/tc39_process.jpg\"\n        srcset=\"/static/e156d8a7721b2e4e845c5ab6e0dd663b/a80bd/tc39_process.jpg 148w,\n/static/e156d8a7721b2e4e845c5ab6e0dd663b/1c91a/tc39_process.jpg 295w,\n/static/e156d8a7721b2e4e845c5ab6e0dd663b/1c72d/tc39_process.jpg 590w,\n/static/e156d8a7721b2e4e845c5ab6e0dd663b/8608d/tc39_process.jpg 638w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In case you haven’t heard the news, Daniel Ehrenberg and Jeff Morrison’s <a href=\"https://github.com/tc39/proposal-class-fields\">ESnext class features for JavaScript</a> proposal was moved from <a href=\"https://github.com/tc39/proposal-class-fields/commit/5a4ff5fa4bf30885188279f6fb8070f2e1903c32\">stage-2 to stage-3</a>.</p>\n<p>Yes.</p>\n<p>This is especially great news for anyone who has been using BabelJS’s <a href=\"https://babeljs.io/docs/plugins/transform-class-properties/\"><code class=\"language-text\">transform-class-properties</code></a> plugin, as we no longer have to worry about the proposal dropping and the crises of conscious that would haunt us as we debate brining our React components back in line with standards.</p>\n<p>If you are unfamilar with React and ES6+ class properties, check out this <a href=\"https://babeljs.io/blog/2015/06/07/react-on-es6-plus\">fantastic article</a> noting some of the highlights.</p>\n<p>tl;dr - we go from this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">\t<span class=\"token keyword\">const</span> MyComponent <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\tpropTypes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token function-variable function\">getDefaultProps</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token function-variable function\">getInitialState</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token function-variable function\">render</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>to this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">\t<span class=\"token keyword\">const</span> MyComponent <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">extends</span> React<span class=\"token punctuation\">.</span>Component <span class=\"token punctuation\">{</span>\n  \t\t<span class=\"token keyword\">static</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t  \t<span class=\"token keyword\">static</span> defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t\tstate <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t\t<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span></code></pre></div>\n<p>However, even as we all eagerly await BabelJS’s maintainers to move <code class=\"language-text\">transform-class-properties</code> from the <code class=\"language-text\">stage-2</code> to <code class=\"language-text\">stage-3</code> preset, if you are using <a href=\"https://github.com/airbnb/javascript\">Airbnb’s JavaScript Style Guide</a>, you will have to wait a little longer until your linter stops yelling at you for using class properties.</p>\n<p><a href=\"https://twitter.com/ljharb\">Jordan Harband</a>, dev at Airbnb, states that we can use the new feature</p>\n<blockquote>\n<p><a href=\"https://github.com/airbnb/javascript/issues/1521#issuecomment-322267012\">“as soon as eslint core supports it - sadly they aren’t likely to do so until stage 4.”</a>.</p>\n</blockquote>\n<p>Bummer.</p>\n<p>If, like me, you simply cannot write React components without the new JS class properties, but rely on Jordan and team rest of the team at Airbnb to keep your JS in check, have no fear - a workaround does exist.</p>\n<p>Simply add the <code class=\"language-text\">babel-eslint</code> parser - this allows you to use all valid Babel code, even that which might not be supported by ESLint.</p>\n<p>Once installed, updated your <code class=\"language-text\">.eslintrc</code> file with the new parser:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"airbnb\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-eslint\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Happy JavaScripting.</p>","frontmatter":{"title":"JS Class Fields Proposal Stage 3 Update, BabelJS, and Airbnb's JS Style Guide","date":"September 02, 2017","isTIL":null}}},"pageContext":{"slug":"/js-class-fields-proposal-at-stage-3/","previous":{"fields":{"slug":"/roll-your-own-static-site/"},"frontmatter":{"title":"Roll Your Own Static Site","redirects":["/roll-your-own-static-site"]}},"next":{"fields":{"slug":"/curiosity-and-why-react-needs-to-be-in-scope/"},"frontmatter":{"title":"Curiosity and Why JSX Requires React in Scope","redirects":["/curiosity-and-why-react-needs-to-be-in-scope"]}}}},"staticQueryHashes":["4173562750","63159454"]}