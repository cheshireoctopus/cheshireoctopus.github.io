<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-ee67237fcd773d712c74.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-d7e1e4ad7664073da55c.js" as="script"/><link rel="preload" href="/path---mailchimp-gibbon-rails-d00339ad5b8e2ff470d3.js" as="script"/><link rel="preload" href="/app-5838a1c42218da44cd95.js" as="script"/><link rel="preload" href="/commons-4deee803be7b7a7b08db.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-5838a1c42218da44cd95.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-d7e1e4ad7664073da55c.js","35783957827783":"component---src-pages-index-js-868be328f94ac3a5a63b.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","5833294425945":"path---twilio-on-rails-sms-basics-b6f79f3b633d8dcfb1d6.js","165404293618325":"path---roll-your-own-static-site-0f914bb861da0c91cb21.js","67129145200904":"path---mailchimp-gibbon-rails-d00339ad5b8e2ff470d3.js","142629428675168":"path---index-c1c81748a25e7c31e757.js","114276838955818":"component---src-layouts-index-js-ee67237fcd773d712c74.js"}
            //]]>
            </script><title data-react-helmet="true">MailChimp, Gibbon, and Rails - Basic Mailing List Setup | Chandler Moisen</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75em 'Merriweather','Georgia','serif';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia','serif';font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia','serif';font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia','serif';font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia','serif';font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia','serif';font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia','serif';font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}</style><link href="//fonts.googleapis.com/css?family=Montserrat:700|Merriweather:400,400i,700,700i,900,900i" rel="stylesheet" type="text/css"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-4deee803be7b7a7b08db.js","/app-5838a1c42218da44cd95.js","/path---mailchimp-gibbon-rails-d00339ad5b8e2ff470d3.js","/component---src-templates-blog-post-js-d7e1e4ad7664073da55c.js","/component---src-layouts-index-js-ee67237fcd773d712c74.js"
])
  </script><style id="gatsby-inlined-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div style="max-width:42rem;margin-left:auto;margin-right:auto;padding:2.625rem 1.3125rem;" data-reactroot="" data-reactid="1" data-react-checksum="987143102"><h3 style="font-family:Montserrat, sans-serif;margin-top:0;margin-bottom:-1.75rem;" data-reactid="2"><a style="box-shadow:none;text-decoration:none;color:inherit;" href="/" data-reactid="3">Chandler Moisen</a></h3><div data-reactid="4"><!-- react-empty: 5 --><h1 data-reactid="6">MailChimp, Gibbon, and Rails - Basic Mailing List Setup</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem;" data-reactid="7">January 23, 2014</p><div data-reactid="8"><p>
  <a
    class="gatsby-resp-image-link"
    href="/static/c1db8ff1f884383b461ad66442ec4c71-353c7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 250px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 110.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEa0lEQVQ4y42Ue1BUZRjGcaqZ/qqZaBqbaUwrZ8qclAREuYp7Zxd2YWkhWJCF9ioCETgiF0WC2ZUCMhwZEsfk6lIkSIEQLQiCXORuFJFlhkANxMUgF8/Td866O2ConZl3vm/P7Pc7z/c+7/va2T3mUUvYLioxO1Ij4Wymf2sDOE+Qdx4kVOQ9Lz8mcp3d/3nUYrZTRFhEZ2LWMUqRlY8+o3D+oJx91HA4fkynUlNeLF847HCjwgTeeY+FKSWcA8GJ2XdFnw1BmJiN/ioBvimSoTA/HVtduHhu4w7Yb3JkYq+b+81Hw6TCjMCMMkp0+jpERd/DM+cqgrUJUOt0sF8BsoaPl2fbw2H+/ERp5nmKBgkJcHfGJfDC4+HBDWQOOzjsgtduN7jtdMVrb+7ExtedKaUfS7kmTCVm8WUpBcu0MhrmnFqDXQI5HD1EcHdxQ6RoL8hhaCQsaP1ZUJG9lL1neH8g/6m1DLAPiIid4J4aYK5JK3vDVQxnTyEEnh4MSEtAh0N5+Fjlg1yNEDlqHxwK4d7R+nM2/AcYIfXLd0y5iO0ZLXD/qB0bXCRwcucjgOXFwBiQ2gKyxhd6DUabipCmCipbBdP4c14UqI8ubTvWjG3pJrwsjMMWR2+SbIuy9H185Ol80VZuwEjdSfR/eRxD1TmY7Tfir55ilBri5x7MXaxT8gXQwC1x5ST5TthOkk/DPgjiMGpaS/WYG6jEdMdpBkTv6bhhKkLViSSKFPjTNmCYTHburfvqXvKOwvOvOCKU721TRwN/u1KCma7PMdtXgZmOIgt0qAotFbloKdHTTofFBAosHaOQ+p54O60ODql18HD1RBBvD4hqBvihwgL8qbGAgdBrd1UeJjtL8Mfg1/i9vQTTIw243lxBpevkNaQ9n6F7df27wfKuCHkYjit98Gm0GNkaMQNMlvMYoDFLhZneCuaa88NfYenXFpgnu7E82WOLyb5qYpDMaC0bboZCQBUmyDBFvl6WnWArlWylxd0zSSEYv1oO80TXKpB5oht/jzWi9XwuCOekdaKE6qMEqDTsx8JILWpOpTFAOt5/h0NcFmG0oWAVjN4v/WLC6HdncOXiOczOTCNJGdJuLZ1N5Hp387QidBhzYCrW24AHg7koTt2HxZ+bGDXDpjL0NlXiWqMRvS11mLh1ExRF4c7CPMZ66rGyW5SkgJcyFQKkhfFsxtBOf0LqcIqYQCvrrC6EeXYc5rnbMM9PYXlxFj8O9mLAVIn6s4Z7Dw7T9aSm4gmIsio8Es6/X4sGRuFgUyn62hrR39GMvtZ6otZIHK/Fn9cqkRwlrV176vixLlmBsYFspm9p9xduXLYZYbautzsxN/otchIUi0TM1jWBugDuCwT2gxUaR4zRvydAaYYKt3ouWEAk/hnvQnfdWaSogu+RFOmSwiVPPnQ2agmUjKgG6/XVYovjh0L4OBIpQeYBOWJkPvQHF4iyEOLB5uhA3rOPnN7RMt468kcpOXSZxPKK3NLrIoliAnt15Zl/AXbTNL9qtjX2AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="mailchip logo"
        title=""
        src="/static/c1db8ff1f884383b461ad66442ec4c71-353c7.png"
        srcset="/static/c1db8ff1f884383b461ad66442ec4c71-309d6.png 148w,
/static/c1db8ff1f884383b461ad66442ec4c71-353c7.png 250w"
        sizes="(max-width: 500px) 100vw, 500px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>You’ve made it to the big time when you want to start a mailing list. There are many ESP’s (email service providers) out there, each with respective strengths and weaknesses. I’d recommend checking into <a href="https://mailchimp.com/">MailChimp</a> as they provide an “entrepreneur’s plan” that allows you to send 12,000 emails a month to 2,000 subscribers – <strong>for free, for life.</strong> And because I have no experience with any other ESP…</p>
<p>This tutorial will cover MailChimp’s integration with Rails using the <a href="https://github.com/amro/gibbon">Gibbon</a> gem. We will be building a simple Rails application that will display a form to collects users’ email addresses and add them to a MailChimp email list.</p>
<p>It is assumed that you possess a basic/intermediate understanding of Ruby (v. 1.9.3) and Rails (v. 4.0.2).</p>
<p><strong>Note:</strong> this tutorial covers MailChimp’s V2 of their API.</p>
<hr>
<h2>Part One: MailChimp</h2>
<p>Before we jump into Rails, we need to do three things: 1) obtain our API key, 2) make an email list with MailChimp; 3) obtain that list’s ID.</p>
<p><strong>1)</strong> Once logged into your MailChimp account, look to the left, select your name, and then “Account Settings” in the popup menu. Next, click the “Extras” dropdown and select “API Keys”. Voilla, you have your API key.</p>
<p><strong>2)</strong> To generate an email list, select “Lists” from the menu on the left. In the top-right corner, click “Create List” to begin the process. Hint: it’s relatively straight forward.</p>
<p><strong>3)</strong> To get the ID of the list you just created, select “List” from the menu on the left. This displays a list of lists…Click on the name of your new list, then the “Settings” dropdown, and select “List name &#x26; defaults”. Now you have your list ID. Super.</p>
<hr>
<h2>Part Two: Rails</h2>
<p>The Rails integration involves five steps: 1) adding the Gibbon gem to your gemfile; 2) creating an intializer file; 3) generating a controller and 4) a view; and 5) configuring your routes.</p>
<p><strong>1)</strong> Add the Gibbon gem to your gemfile and run bundle in your terminal. <a href="https://github.com/amro/gibbon">Gibbon is an API wrapper for MailChimp’s Primary and Export APIs</a>, or, in other words, a chunk of code you can drop into your project and work with quickly. There are quite a few MailChimp API Wrappers spanning a variety of languages.</p>
<div class="gatsby-highlight">
      <pre class="language-ruby"><code><span class="token comment" spellcheck="true">#Gemfile</span>

gem <span class="token string">'gibbon'</span><span class="token punctuation">,</span> git<span class="token punctuation">:</span> <span class="token string">'git://github.co/amro/gibbon.git'</span>
</code></pre>
      </div>
<p>Take note: other <a href="http://mrgeorgegray.com/workflow/getting-a-grip-on-gibbon/">tutorials</a> reported issues running the correct version of the gem. If you encounter a similar problem, try adding <code>git: ‘git://github.co/amro/gibbon.git’</code> to your gemfile so it points to the gem’s repository.</p>
<p><strong>2)</strong> Create a new initializer file, ‘gibbon.rb’, in ‘config/initializers’ to declare your MailChimp API key and two other variables. Setting throws_exception to false will give you a pretty hash in the event of an error.</p>
<div class="gatsby-highlight">
      <pre class="language-ruby"><code><span class="token comment" spellcheck="true">#config/initializers/gibbon.rb</span>

<span class="token constant">Gibbon</span><span class="token punctuation">:</span><span class="token symbol">:API</span><span class="token punctuation">.</span>api_key <span class="token operator">=</span> <span class="token string">"YOUR-API-KEY"</span>
<span class="token constant">Gibbon</span><span class="token punctuation">:</span><span class="token symbol">:API</span><span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">15</span>
<span class="token constant">Gibbon</span><span class="token punctuation">:</span><span class="token symbol">:API</span><span class="token punctuation">.</span>throws_exceptions <span class="token operator">=</span> <span class="token keyword">false</span>
</code></pre>
      </div>
<p><strong>3)</strong> Generate a controller <code>emailapi</code> to handle MailChimp’s API calls and create a method <code>subscribe</code> that will be responsible for taking users’ email input and pushing it to your mailing list.</p>
<div class="gatsby-highlight">
      <pre class="language-ruby"><code><span class="token comment" spellcheck="true">#app/controllers/emailapi_controller.rb</span>

<span class="token keyword">def</span> index
<span class="token keyword">end</span>

<span class="token keyword">def</span> subscribe

    <span class="token variable">@list_id</span> <span class="token operator">=</span> <span class="token string">"YOUR-LIST-ID"</span>
    gb <span class="token operator">=</span> <span class="token constant">Gibbon</span><span class="token punctuation">:</span><span class="token symbol">:API</span><span class="token punctuation">.</span><span class="token keyword">new</span>

    <span class="token class-name">gb<span class="token punctuation">.</span>lists<span class="token punctuation">.</span>subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token symbol">:id</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">@list_id</span><span class="token punctuation">,</span>
      <span class="token symbol">:email</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token symbol">:email</span> <span class="token operator">=</span><span class="token operator">></span> params<span class="token punctuation">[</span><span class="token symbol">:email</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token symbol">:address</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">end</span>
</code></pre>
      </div>
<p>The variables <code>@list_id</code> and <code>gb</code> are respectively defined as the ID of the list you created (from Part One, remember?) and an instance of the API wrapper. The latter is pulling from the <code>app/config/initializers/gibbon.rb</code>.</p>
<p>Next, we make an API call – <code>.lists.subscribe()</code> – on the instance itself. This call takes a hash as an argument, and in this hash, we pass two parameters: <code>:id</code>, associated with the ID of your list, and <code>:email</code>, associated with the user’s email (this will become clearer after we construct the view).</p>
<p><strong>4)</strong> Having completed the controller, let’s make the corresponding view. Create a file <code>index.html.erb</code> in <code>/app/views/emailapi</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-ruby"><code><span class="token comment" spellcheck="true">#app/views/emailapi/index.html.erb</span>

<span class="token operator">&lt;</span>h1<span class="token operator">></span><span class="token constant">Get</span> <span class="token constant">My</span> <span class="token constant">Awesome</span> <span class="token constant">News</span> <span class="token constant">Letter</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token constant">Give</span> me your email <span class="token keyword">and</span> keep up to date on my cat's thoughts<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token string">%= form_tag('/emailapi/subscribe', method: "post", id: "subscribe", remote: "true") do -%>
   &lt;%=</span> <span class="token function">email_field</span><span class="token punctuation">(</span><span class="token symbol">:email</span><span class="token punctuation">,</span> <span class="token symbol">:address</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span> placeholder<span class="token punctuation">:</span> <span class="token string">"email address"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token string">%>
   &lt;%= submit_tag("Sign me up!") %></span>
<span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">end</span> <span class="token operator">%</span><span class="token operator">></span>
</code></pre>
      </div>
<p>Beneath the <code>&#x3C;h1></code> and <code>&#x3C;p></code> html elements, use a Rails helper <code>form_tag</code> to create the sign up form. Pass in four paramaters:</p>
<ol>
<li>The action the form is going to take, or where the form will be submitted</li>
<li>The HTML method defining how the action will occur, in this case <code>post</code></li>
<li>The form’s ID</li>
<li>Set <code>remote</code> to <code>true</code>, allowing unobtrusive JS drivers to modify the the form’s behavior.</li>
</ol>
<p>Lastl, the <code>submit_tag</code> method creates our <code>&#x3C;input></code> tags. Our form is rendered in HTML as seen below:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Get My Awesome News Letter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Give me your email and keep up to date on my cat's thoughts.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">accept-charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/emailapi/subscribe<span class="token punctuation">"</span></span> <span class="token attr-name">data-remote</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subscribe<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf8<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#x2713;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email[address]<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email address<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>commit<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Sign me up!<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
</code></pre>
      </div>
<p>To learn more about forms, check out the <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html">documentation</a>.</p>
<p>For more information on the subscribe API call, check out the <a href="https://developer.mailchimp.com/documentation/mailchimp/reference/lists/members/#create-post_lists_list_id_members">official documentation</a>.</p>
<p><strong>5)</strong> Last, set your routes in <code>config/routes.rb</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-ruby"><code><span class="token comment" spellcheck="true">#config/routes.rb</span>

root <span class="token string">'emailapi#index'</span>
post <span class="token string">'emailapi/subscribe'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'emailapi#subscribe'</span>
</code></pre>
      </div>
<hr>
<h2>Conclusion</h2>
<p>Alright, you should be good to go. Keep in mind, this tutorial barely scratches the surface of MailChimp + Rails + Gibbon.</p></div><hr style="margin-bottom:1.75rem;" data-reactid="9"/></div><span style="display:block;clear:both;" data-reactid="10"> </span></div></div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'undefined', 'auto');
  ga('send', 'pageview');
      </script></body></html>